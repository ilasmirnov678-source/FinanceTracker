<Application x:Class="FinanceTracker.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:local="clr-namespace:FinanceTracker"
             xmlns:primitives="clr-namespace:System.Windows.Controls.Primitives;assembly=PresentationFramework"
             StartupUri="Views/MainWindow.xaml">
    <Application.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="Themes/CalendarDark.xaml"/>
            </ResourceDictionary.MergedDictionaries>
            <!-- Ð¦Ð²ÐµÑ‚Ð° (AARRGGBB) -->
        <Color x:Key="AccentGreenColor">#FF059669</Color>
        <Color x:Key="SecondaryBgColor">#FFE5E7EB</Color>
        <Color x:Key="SecondaryTextColor">#FF374151</Color>
        <Color x:Key="PanelBorderColor">#FFE5E7EB</Color>
        <Color x:Key="WindowBackgroundColor">#FF1A1A1A</Color>
        <Color x:Key="CardBackgroundColor">#FF2D2D2D</Color>
        <Color x:Key="CardBorderDarkColor">#FF404040</Color>
        <Color x:Key="CardTextColor">#FFE5E7EB</Color>
        <Color x:Key="CardTextMutedColor">#FF9CA3AF</Color>
        <Color x:Key="CardAlternatingRowColor">#FF252525</Color>

        <!-- ÐšÐ¸ÑÑ‚Ð¸ Ð´Ð»Ñ Ð¿Ñ€Ð¸Ð²ÑÐ·ÐºÐ¸ -->
        <SolidColorBrush x:Key="AccentGreen" Color="{StaticResource AccentGreenColor}"/>
        <SolidColorBrush x:Key="SecondaryBg" Color="{StaticResource SecondaryBgColor}"/>
        <SolidColorBrush x:Key="SecondaryText" Color="{StaticResource SecondaryTextColor}"/>
        <SolidColorBrush x:Key="PanelBorder" Color="{StaticResource PanelBorderColor}"/>
        <SolidColorBrush x:Key="WindowBackground" Color="{StaticResource WindowBackgroundColor}"/>
        <SolidColorBrush x:Key="DataGridAlternatingRow" Color="#FFF9FAFB"/>
        <SolidColorBrush x:Key="CardBackground" Color="{StaticResource CardBackgroundColor}"/>
        <SolidColorBrush x:Key="CardBorderDark" Color="{StaticResource CardBorderDarkColor}"/>
        <SolidColorBrush x:Key="CardText" Color="{StaticResource CardTextColor}"/>
        <SolidColorBrush x:Key="CardTextMuted" Color="{StaticResource CardTextMutedColor}"/>
        <SolidColorBrush x:Key="CardAlternatingRow" Color="{StaticResource CardAlternatingRowColor}"/>

        <!-- Ð¡Ñ‚Ð¸Ð»ÑŒ Ð¾ÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ ÐºÐ½Ð¾Ð¿ÐºÐ¸ (Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ, Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚) -->
        <Style x:Key="PrimaryButton" TargetType="Button">
            <Setter Property="Background" Value="{StaticResource AccentGreen}"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Padding" Value="16,8"/>
            <Setter Property="MinHeight" Value="32"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                CornerRadius="6"
                                Padding="{TemplateBinding Padding}"
                                BorderThickness="0">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Ð¡Ñ‚Ð¸Ð»ÑŒ Ð²Ñ‚Ð¾Ñ€Ð¸Ñ‡Ð½Ð¾Ð¹ ÐºÐ½Ð¾Ð¿ÐºÐ¸ (Ð ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ, Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ, ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ, ÐžÑ‚Ð¼ÐµÐ½Ð°) â€” Ð½Ð° Ñ‚Ñ‘Ð¼Ð½Ð¾Ð¼ Ñ„Ð¾Ð½Ðµ -->
        <Style x:Key="SecondaryButton" TargetType="Button">
            <Setter Property="Background" Value="#FF404040"/>
            <Setter Property="Foreground" Value="{StaticResource CardText}"/>
            <Setter Property="Padding" Value="16,8"/>
            <Setter Property="MinHeight" Value="32"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                CornerRadius="6"
                                Padding="{TemplateBinding Padding}"
                                BorderThickness="0">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Ð¡Ñ‚Ð¸Ð»ÑŒ ComboBox Ð¿Ð¾Ð´ Ñ‚Ñ‘Ð¼Ð½ÑƒÑŽ Ñ‚ÐµÐ¼Ñƒ (Ð¿ÑƒÐ½ÐºÑ‚Ñ‹ ÑÐ¿Ð¸ÑÐºÐ°: Ñ‚Ñ‘Ð¼Ð½Ñ‹Ð¹ Ñ„Ð¾Ð½, ÑÐ²ÐµÑ‚Ð»Ñ‹Ð¹ Ñ‚ÐµÐºÑÑ‚, Ð¿Ð¾Ð´ÑÐ²ÐµÑ‚ÐºÐ° Ð±ÐµÐ· ÑÐ¸Ð½ÐµÐ³Ð¾) -->
        <Style x:Key="DarkComboBoxItem" TargetType="ComboBoxItem">
            <Setter Property="Background" Value="{StaticResource CardBackground}"/>
            <Setter Property="Foreground" Value="{StaticResource CardText}"/>
            <Setter Property="Padding" Value="8,6"/>
            <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
            <Style.Triggers>
                <Trigger Property="IsHighlighted" Value="True">
                    <Setter Property="Background" Value="#FF404040"/>
                </Trigger>
            </Style.Triggers>
        </Style>
        <!-- Ð¡Ñ‚Ð¸Ð»ÑŒ ComboBox Ð¿Ð¾Ð´ Ñ‚Ñ‘Ð¼Ð½ÑƒÑŽ Ñ‚ÐµÐ¼Ñƒ (Ð±ÐµÐ· ÐºÐ°ÑÑ‚Ð¾Ð¼Ð½Ð¾Ð³Ð¾ ÑˆÐ°Ð±Ð»Ð¾Ð½Ð° â€” Ð¿ÑƒÐ½ÐºÑ‚Ñ‹ ÑÐ¿Ð¸ÑÐºÐ° Ñ‚Ñ‘Ð¼Ð½Ñ‹Ðµ) -->
        <Style x:Key="DarkComboBox" TargetType="ComboBox">
            <Setter Property="Background" Value="{StaticResource CardBackground}"/>
            <Setter Property="Foreground" Value="{StaticResource CardText}"/>
            <Setter Property="BorderBrush" Value="{StaticResource CardBorderDark}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="MinHeight" Value="32"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="ItemContainerStyle" Value="{StaticResource DarkComboBoxItem}"/>
            <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
        </Style>

        <!-- Ð¡Ñ‚Ð¸Ð»ÑŒ DatePicker Ð¿Ð¾Ð´ Ñ‚Ñ‘Ð¼Ð½ÑƒÑŽ Ñ‚ÐµÐ¼Ñƒ (Ð¿Ð¾Ð»Ðµ Ð²Ð²Ð¾Ð´Ð° Ð¸ ÐºÐ½Ð¾Ð¿ÐºÐ° ÐºÐ°Ð»ÐµÐ½Ð´Ð°Ñ€Ñ, Ð²ÑÑ‘ Ð¿Ð¾ Ñ†ÐµÐ½Ñ‚Ñ€Ñƒ) -->
        <Style x:Key="DarkDatePicker" TargetType="DatePicker">
            <Setter Property="Background" Value="{StaticResource CardBackground}"/>
            <Setter Property="Foreground" Value="{StaticResource CardText}"/>
            <Setter Property="BorderBrush" Value="{StaticResource CardBorderDark}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="MinHeight" Value="32"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="DatePicker">
                        <Border Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}">
                            <Grid x:Name="PART_Root" MinHeight="{TemplateBinding MinHeight}" VerticalAlignment="Center">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <primitives:DatePickerTextBox x:Name="PART_TextBox" Grid.Column="0"
                                    VerticalContentAlignment="Center"
                                    Focusable="{TemplateBinding Focusable}"
                                    Background="{TemplateBinding Background}"
                                    Foreground="{TemplateBinding Foreground}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    FontSize="{TemplateBinding FontSize}"
                                    Padding="6,4"/>
                                <Button x:Name="PART_Button" Grid.Column="1"
                                    VerticalAlignment="Center"
                                    Focusable="False"
                                    Width="32" MinWidth="32" Height="32" MinHeight="32"
                                    Padding="0"
                                    Margin="1,0,0,0"
                                    Background="{StaticResource CardBorderDark}"
                                    Foreground="{StaticResource CardText}"
                                    BorderBrush="{StaticResource CardBorderDark}"
                                    BorderThickness="1"
                                    Cursor="Hand"
                                    ToolTip="ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ ÐºÐ°Ð»ÐµÐ½Ð´Ð°Ñ€ÑŒ">
                                    <Button.Template>
                                        <ControlTemplate TargetType="Button">
                                            <Border Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Padding="{TemplateBinding Padding}">
                                                <TextBlock Text="ðŸ“…" FontSize="16" HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="{TemplateBinding Foreground}"/>
                                            </Border>
                                        </ControlTemplate>
                                    </Button.Template>
                                </Button>
                                <Popup x:Name="PART_Popup" AllowsTransparency="True" Placement="Bottom" PlacementTarget="{Binding ElementName=PART_TextBox}" StaysOpen="False"/>
                            </Grid>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Resources>
                <Style TargetType="primitives:DatePickerTextBox">
                    <Setter Property="Background" Value="{StaticResource CardBackground}"/>
                    <Setter Property="Foreground" Value="{StaticResource CardText}"/>
                    <Setter Property="BorderBrush" Value="{StaticResource CardBorderDark}"/>
                    <Setter Property="BorderThickness" Value="0"/>
                    <Setter Property="Padding" Value="6,4"/>
                    <Setter Property="CaretBrush" Value="{StaticResource CardText}"/>
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="primitives:DatePickerTextBox">
                                <Border Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Padding="{TemplateBinding Padding}">
                                    <ScrollViewer x:Name="PART_ContentHost"/>
                                </Border>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </Style>
            </Style.Resources>
        </Style>

        <!-- Ð¡Ñ‚Ð¸Ð»Ð¸ ÐºÐ°Ð»ÐµÐ½Ð´Ð°Ñ€Ñ â€” Ð² Themes/CalendarDark.xaml (Ð¼ÐµÑ€Ð¶ Ð²Ñ‹ÑˆÐµ), Ñ‡Ñ‚Ð¾Ð±Ñ‹ Popup Ð²ÑÐµÐ³Ð´Ð° Ð¸Ñ… Ð¿Ð¾Ð»ÑƒÑ‡Ð°Ð» -->

        <!-- Ð¡Ñ‚Ð¸Ð»ÑŒ RadioButton Ð¿Ð¾Ð´ Ñ‚Ñ‘Ð¼Ð½ÑƒÑŽ Ñ‚ÐµÐ¼Ñƒ (ÐºÑ€ÑƒÐ³ Ñ Ð°ÐºÑ†ÐµÐ½Ñ‚Ð½Ð¾Ð¹ Ñ‚Ð¾Ñ‡ÐºÐ¾Ð¹ Ð¿Ñ€Ð¸ Ð²Ñ‹Ð±Ð¾Ñ€Ðµ) -->
        <Style x:Key="DarkRadioButton" TargetType="RadioButton">
            <Setter Property="Foreground" Value="{StaticResource CardText}"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="Padding" Value="8,6"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="RadioButton">
                        <StackPanel Orientation="Horizontal">
                            <Border x:Name="circle" Width="16" Height="16" CornerRadius="8"
                                    BorderBrush="{StaticResource CardBorderDark}" BorderThickness="2"
                                    Background="{StaticResource CardBackground}" Margin="0,0,8,0">
                                <Ellipse x:Name="dot" Fill="{StaticResource AccentGreen}" Visibility="Collapsed"
                                         HorizontalAlignment="Center" VerticalAlignment="Center" Width="8" Height="8"/>
                            </Border>
                            <ContentPresenter VerticalAlignment="Center"/>
                        </StackPanel>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter TargetName="dot" Property="Visibility" Value="Visible"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº ÐºÐ°Ñ€Ñ‚Ð¾Ñ‡ÐºÐ¸ (Ð¢Ñ€Ð°Ð½Ð·Ð°ÐºÑ†Ð¸Ð¸, ÐÐ½Ð°Ð»Ð¸Ñ‚Ð¸ÐºÐ°): Ð¶Ð¸Ñ€Ð½Ñ‹Ð¹ ÑˆÑ€Ð¸Ñ„Ñ‚ -->
        <Style x:Key="CardTitle" TargetType="TextBlock">
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="FontSize" Value="15"/>
            <Setter Property="Foreground" Value="{StaticResource CardText}"/>
        </Style>
        <!-- Ð›Ñ‘Ð³ÐºÐ°Ñ Ð»Ð¸Ð½Ð¸Ñ-Ñ€Ð°Ð·Ð´ÐµÐ»Ð¸Ñ‚ÐµÐ»ÑŒ Ð¿Ð¾Ð´ Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ¾Ð¼ ÐºÐ°Ñ€Ñ‚Ð¾Ñ‡ÐºÐ¸ -->
        <Style x:Key="CardTitleLine" TargetType="Border">
            <Setter Property="Height" Value="2"/>
            <Setter Property="Margin" Value="0,8,0,12"/>
            <Setter Property="Background" Value="{StaticResource AccentGreen}"/>
        </Style>

        <!-- Ð¡Ñ‚Ð¸Ð»ÑŒ Ð¿Ð¾Ð»Ð¾ÑÐºÐ¸ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ (Ð¸Ð½Ð´Ð¸ÐºÐ°Ñ‚Ð¾Ñ€ Ñ€Ð°ÑÑ‡Ñ‘Ñ‚Ð° Ð¾Ñ‚Ñ‡Ñ‘Ñ‚Ð°) -->
        <Style x:Key="ReportProgressBar" TargetType="ProgressBar">
            <Setter Property="Height" Value="6"/>
            <Setter Property="Foreground" Value="{StaticResource AccentGreen}"/>
            <Setter Property="Background" Value="{StaticResource CardBorderDark}"/>
            <Setter Property="IsIndeterminate" Value="True"/>
        </Style>

        <!-- Ð¡Ñ‚Ð¸Ð»ÑŒ Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ¾Ð² ÐºÐ¾Ð»Ð¾Ð½Ð¾Ðº DataGrid (Ñ‚Ñ‘Ð¼Ð½Ð°Ñ Ñ‚ÐµÐ¼Ð°) -->
        <Style x:Key="TransactionsColumnHeader" TargetType="DataGridColumnHeader">
            <Setter Property="Background" Value="#FF383838"/>
            <Setter Property="Foreground" Value="{StaticResource CardText}"/>
            <Setter Property="Padding" Value="8,6"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="BorderBrush" Value="{StaticResource CardBorderDark}"/>
            <Setter Property="BorderThickness" Value="0,0,1,0"/>
        </Style>

        <!-- Ð¡Ñ‚Ð¸Ð»ÑŒ DataGrid ÑÐ¿Ð¸ÑÐºÐ° Ñ‚Ñ€Ð°Ð½Ð·Ð°ÐºÑ†Ð¸Ð¹ (Ñ‚Ñ‘Ð¼Ð½Ð°Ñ Ñ‚ÐµÐ¼Ð°) -->
        <Style x:Key="TransactionsDataGrid" TargetType="DataGrid">
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="RowHeaderWidth" Value="0"/>
            <Setter Property="Background" Value="{StaticResource CardBackground}"/>
            <Setter Property="Foreground" Value="{StaticResource CardText}"/>
            <Setter Property="RowBackground" Value="{StaticResource CardBackground}"/>
            <Setter Property="AlternatingRowBackground" Value="{StaticResource CardAlternatingRow}"/>
            <Setter Property="GridLinesVisibility" Value="All"/>
            <Setter Property="VerticalGridLinesBrush" Value="{StaticResource CardBorderDark}"/>
            <Setter Property="HorizontalGridLinesBrush" Value="{StaticResource CardBorderDark}"/>
            <Setter Property="ColumnHeaderStyle" Value="{StaticResource TransactionsColumnHeader}"/>
        </Style>

        <!-- Ð¡Ñ‚Ð¸Ð»ÑŒ ÐºÐ°Ñ€Ñ‚Ð¾Ñ‡ÐºÐ¸ (Border): Ñ‚Ñ‘Ð¼Ð½Ñ‹Ð¹ Ñ„Ð¾Ð½, ÑÐºÑ€ÑƒÐ³Ð»ÐµÐ½Ð¸Ðµ 8, Ñ€Ð°Ð¼ÐºÐ° -->
        <Style x:Key="CardBorder" TargetType="Border">
            <Setter Property="Background" Value="{StaticResource CardBackground}"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="BorderBrush" Value="{StaticResource CardBorderDark}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="16"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect BlurRadius="12" ShadowDepth="2" Opacity="0.35" Color="Black"/>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Ð¡Ñ‚Ð¸Ð»ÑŒ GridSplitter Ð¿Ð¾Ð´ Ñ‚Ñ‘Ð¼Ð½ÑƒÑŽ Ñ‚ÐµÐ¼Ñƒ -->
        <Style x:Key="DarkGridSplitter" TargetType="GridSplitter">
            <Setter Property="Background" Value="{StaticResource CardBorderDark}"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="SizeWE"/>
        </Style>
        </ResourceDictionary>
    </Application.Resources>
</Application>
